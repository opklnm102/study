# [Tip] Code Review attitude
> date - 2018.07.29  
> keyword - git, code review  
> code review attitude(코드 리뷰를 하거나 받는 방법)에 대한 guideline이 있어 잊어버리지 않기 위해 정리하는 시간을 가져보려고 함

<br>

## 리뷰어와 코드 작성자
* 거의 모든 리뷰는 `그저 의견`임을 받아들인다. 각자 선호하는 방법의 장단점을 논의하고, 해결 방법을 위해 나아가세요
  * 리뷰는 실수나 더 나은 해결 방법을 위해 나아가는 과정이므로 맹목적으로 모든 리뷰를 따를 필요는 없다
* 잘 질문하고, 답을 요구하지 마세요
  * ex) xxx라는 이름을 어떻게 생각하세요?
* 좋은 질문은 코드 작성자의 의도를 평가하거나 추측하지 않습니다
* 이해가 안된다면 이해시켜달라고 요청합니다
  * ex) 제가 이해를 못했는데, 좀 더 설명해주시겠어요?
* 코드의 소유자를 특정하지 마세요
  * ex) `내가 작성한`, `내 코드가 아닌데`, `당신이 작성한 코드에`
  * 우리의 코드라고 생각하자
  * 시점에 따라 더 나은 방법이 생각날 수 있기 때문에 내가 작성한 코드가 아니라도 거부하는 건 좋은 태도가 아니다
* 인격을 모욕하는 단어를 사용하지마세요
  * 모든 사람이 똑똑하고 선의가 있다고 생각하세요
* 태도를 명확히 하세요
  * 다른 사람이 여러분의 의도를 항상 이해할 수는 없다는 점을 기억하세요
* 겸손하세요
  * ex) 확실하진 않지만 한번 살펴볼꼐요
* 과장하지 마세요
  * ex) 항상, 절대로, 끝없이, 아무것도
* 비꼬지 마세요
* 평소처럼 하세요
  * 여러분이 평소 사용하지 않을법한 이모지, gif, 농담은 사용하지 마세요
  * 여러분이 많이 사용했던 의미더라도 신중하게 사용하세요
* `이해가 안가요` 나 `대안:` 같은 댓글이 너무 많다면 직접 대화하세요
  * 채팅, 화상통화 등을 통해 논의 후 결과를 다른 리뷰어도 알 수 있도록 댓글로 정리

---

<br>

## 코드 작성자
* 리뷰어 입장에서 이해해보세요
* 모든 댓글에 답을 하고, 리뷰어의 제안에 고마움을 표현하세요
  * 리뷰어의 소중한 시간을 통해 나온 결과이므로 무시하지 않고, 고마움을 표현합니다

```
좋아요. 한번 해볼께요. 고맙습니다. Fixed in <commit hash>

아, 좋은 지적이네요. 고맙습니다. Fixed in <commit hash>

제안해주신 방법도 고려했으나, 현재 방법이 더 나은 방법으로 판단되어 선택했습니다. 감사합니다.
```

* 개인적으로 받아들이지 말라. 코드에 대한 리뷰는 당신에 대한 리뷰가 아니다
  * 온라인으로 감정을 전달하기 어렵고, 잘못 해석하기 쉽기 때문에 리뷰 내용이 공격적이거나 화(angry)가 섞였거나 개인적인 부분을 건드리는 것처럼 느껴진다면, 먼저 `그렇게 읽으려는 태도는 없었는지 돌아보고`, `상대의 의도가 무엇인지(가능하다면 개인적으로) 물어보세요`
  * 리뷰 작성자는 선의로 작성했다고 가정하세요
* 그 코드가 왜 필요한지 설명하세요
  * ex) 이걸 이렇게 한 이유는 이렇습니다. 내가 클래스/파일/메소드/변수 이름을 어떻게 바꿔야 그 뜻이 좀 더 명확해질까요?
* 어떤 변경사항이나 리펙토링은 다른 티켓/스토리로 빼내세요
* 티켓/스토리에 코드리뷰를 링크하세요
  * ex) 리뷰해주세요 https://...
* 피드백을 받은 순서대로 commit을 만들어 푸시하세요
  * merge하기 전까지는 commit을 sqush하지 마세요
  * 리뷰어들이 자신들의 피드백을 반영한 commit을 쉽게 읽을 수 있어야 합니다
* CI에서 해당 브랜치의 모든 test가 성공했다고 할 때까지 merge하지 마세요
* 코드가 프로젝트에 끼치는 영향을 확신했다면 merge하세요

---

<br>

## 코드 리뷰어
* 이 코드가 왜 필요한지 이해하세요
  * 버그 수정인지, UX(User Experience) 개선인지, 기존 코드 리펙토링인지
  * 관련된 issue ticket이나 pull request description을 통해
* 어떤 아이디어가 좋은지, 혹은 좋지 않은지 이야기하세요
  * ex) 이 경우엔 이 방법이 더 좋을듯해요
* 문제를 해결하면서도 코드를 줄일 방법을 찾아보세요
* 논의가 너무 철학적/학구적으로 변했다면 `다른 정기 오프라인 모임`으로 논의 시점을 옮기세요. 그때까지는 코드 작성자가 대안을 선택하도록 최종 권한을 주세요
  * 너무 오래동안 끌지 않는다
* 대안을 제시하되 코드 작성자도 이미 그 대안을 고려했을 거라고 가정하세요
  * ex) 여기에 custom validator를 사용하면 어떨까요?
* 코드 작성자 입장에서 이해해보세요
* :thumbsup:, LGTM(Looks Good To Me) 같은 merge해도 괜찮아라는 뜻이 담긴 댓글을 달거나, approve 등을 통해 리뷰를 끝냅니다

---

<br>

> #### 참고
> * [thoughtbot guides - Code Review](https://github.com/thoughtbot/guides/tree/master/code-review)
